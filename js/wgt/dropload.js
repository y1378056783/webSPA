/**
 * dropload
 */
define("wgt/dropload",function(require, exports, module) {var TouchAngle=function(a){var b=a||{};this.callback=b.callback,this.startX=null,this.startY=null,this.endX=null,this.endY=null,this.obj=$(b.targets)||$(document),this.ele=b.element||"li",this.handleInit()};TouchAngle.prototype={handleDefault:function(){console.log("默认操作")},isInViewport:function(a){var b=a.getBoundingClientRect();return b.bottom>0&&b.right>0&&b.left<(window.innerWidth||document.documentElement.clientWidth)&&b.top<(window.innerHeight||document.documentElement.clientHeight)},handleUp:function(a){var b=$(a).find(this.ele).last();return 0==b.length?!1:("function"==typeof this.callback["up"]&&this.isInViewport($(b)[0])&&this.callback["up"](a),void 0)},handleDown:function(a){"function"==typeof this.callback["down"]&&this.callback["down"](a)},handleLeft:function(){console.log("向左")},handleRight:function(){console.log("向右")},getSlideAngle:function(a,b){return 180*Math.atan2(b,a)/Math.PI},getSlideDirection:function(a,b,c,d){var h,e=b-d,f=c-a,g=0;return Math.abs(f)<2&&Math.abs(e)<2?g:(h=this.getSlideAngle(f,e),h>=-45&&45>h?g=4:h>=45&&135>h?g=1:h>=-135&&-45>h?g=2:(h>=135&&180>=h||h>=-180&&-135>h)&&(g=3),g)},handleInit:function(){var a=this;this.obj.on("touchstart",function(b){a.startX=b.touches[0].pageX,a.startY=b.touches[0].pageY}).on("touchend",function(b){var d,c=this;switch(a.endX=b.changedTouches[0].pageX,a.endY=b.changedTouches[0].pageY,d=a.getSlideDirection(a.startX,a.startY,a.endX,a.endY)){case 0:break;case 1:a.handleUp(c);break;case 2:a.handleDown(c);break;case 3:a.handleLeft();break;case 4:a.handleRight()}})}},module.exports=TouchAngle;})