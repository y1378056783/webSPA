!function(a){function b(){this.cache={},this.on=function(a,b){var c=this.cache;c[a]=b},this.trigger=function(a){var b,c,d,e,f=this.cache;for(b in f)c=this.initRegexps(b),c.test(a)&&(d=f[b]||function(){},e=this.getParams(c,a),d.apply(this,e))},this.init=function(){var a=this;window.addEventListener("hashchange",function(){var b=location.hash.slice(1);a.trigger(b)}),window.addEventListener("load",function(){var b=location.hash.slice(1)||"default";a.trigger(b)})},this.initRegexps=function(a){return a=a.replace(/[\/,.+\-?$#{}\[\]]/g,"\\$&").replace(/\((.*?)\)/g,"(?:$1)?").replace(/(\/\w?:\w+)+/g,"/([^/]+)").replace(/\*\w*/g,"([^?]*?)"),new RegExp("^"+a+"$")},this.getParams=function(a,b){return a.exec(b).slice(1)},this.init()}a.Router=b}(window),!function(a){"use strict";function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a){this._init(a)}var d,e,f,g,h,i,j,k,l="aui-slide-node",m="aui-slide-page-wrap",n="aui-slide-page",o="aui-slide-page-active",p="aui-slide-page-dot",q="aui-slide-page-line",r="."+l,s="."+m,t="."+n,u="."+o;c.prototype.options={container:"",width:"auto",height:"auto",speed:300,autoPlay:0,pageShow:!0,pageStyle:"dot",dotPosition:"center",friction:1,loop:!0,currentPage:!1,PageCount:!1},c.prototype._init=function(a){var c,d;if(b(this.options,a),this.options.container&&(this.index=0,this.continuous=!0,this.container=this.options.container,this.loop=this.options.loop,this.speed=this.options.speed,this.container.style.position="relative",this.container.style.width=this.options.width+"px",this.container.style.height=this.options.height+"px",c=this.container.children[0],this.slideWrap=c,this.slideNodeList=this.slideWrap.querySelectorAll(r),c&&this.slideNodeList)){for(this.slideWrapWidth=this.slideWrap.offsetWidth,this.slideNodeListLength=this.slideNodeList.length,2==this.slideNodeListLength&&(c.appendChild(this.slideWrap.children[0].cloneNode(!0)),c.appendChild(this.slideWrap.children[1].cloneNode(!0)),this.slideWrap=c,this.slideNodeList=this.slideWrap.querySelectorAll(r),this.slideNodeListLength=this.slideNodeList.length,this.continuous=!1),d=0;d<this.slideNodeListLength;d++)this.slideNodeList[d]&&(this.slideNodeList[d].style.webkitTransform=this.slideNodeList[d].style.transform="translate3d("+this.slideWrapWidth*d+"px,0,0)");this.slideNodeListLength>1&&(this.options.pageShow&&(this.createPagination(0),this.setPageDotPosition()),this.options.autoPlay>500&&this.loop&&this.autoPlay(0),this.slideWrap.addEventListener("touchstart",this.touchStart.bind(this),!1),this.slideWrap.addEventListener("touchmove",this.touchMove.bind(this),!1),this.slideWrap.addEventListener("touchend",this.touchEnd.bind(this),!1))}},c.prototype.setPageDotPosition=function(){var a=this,b=a.options.dotPosition;this.container.querySelector(s).style.textAlign=b},c.prototype.autoPlay=function(){var a=this;setInterval(function(){a.slideTo(a.getCircle(a.index-1),-a.slideWrapWidth,0),a.slideTo(a.getCircle(a.index+2),a.slideWrapWidth,0),a.slideTo(a.index,-a.slideWrapWidth,a.options.speed),a.slideTo(a.getCircle(a.index+1),0,a.options.speed),a.index=a.getCircle(a.index+1),a.setPaginationActive(a.index)},a.options.autoPlay)},c.prototype.setPaginationActive=function(a){var b,c=this;c.options.currentPage&&c.options.currentPage(a),this.container.querySelector(s)&&(b=this.container.querySelectorAll(t),this.container.querySelector(t+u)&&this.container.querySelector(t+u).classList.remove(o),this.continuous?b[this.index].classList.add(o):3==this.index?b[1].classList.add(o):2==this.index?b[0].classList.add(o):b[this.index].classList.add(o))},c.prototype.createPagination=function(){var a,b,c=this,d=this.container.querySelector(s);if(d)switch(d.innerHTML="",a="",c.options.pageStyle){case"dot":if(this.continuous)for(b=0;b<this.slideNodeListLength;b++)a+='<span class="'+n+" "+p+'"></span>';else for(b=0;2>b;b++)a+='<span class="'+n+" "+p+'"></span>';d.innerHTML=a,c.setPaginationActive(0);break;case"line":if(this.continuous)for(b=0;b<this.slideNodeListLength;b++)a+='<span class="'+n+" "+q+'" style="width:'+100/this.slideNodeListLength+'%"></span>';else for(b=0;2>b;b++)a+='<span class="'+n+" "+q+'" style="width:50%"></span>';d.innerHTML=a,c.setPaginationActive(0)}},c.prototype.pageCount=function(){var a=this;return a.slideNodeList.length},c.prototype.touchStart=function(a){h=1*new Date,d=parseInt(a.changedTouches[0].pageX),e=parseInt(a.changedTouches[0].pageY),k=void 0},c.prototype.touchMove=function(a){var b,c=a.changedTouches[0],h=parseInt(c.pageX);if(f=h-d,g=f/this.options.friction,i=parseInt(c.pageX)-d,j=parseInt(c.pageY)-e,b=this.getDirection(i,j),"undefined"==typeof k&&(k=!!(k||Math.abs(i)<Math.abs(j))),!k){if(a.preventDefault(),!this.loop){if(!this.continuous&&1==this.index&&"left"==b)return;if(!this.continuous&&0==this.index&&"right"==b)return;if(this.index==this.slideNodeList.length-1){if(0>=g)return;this.setTranslate(this.getCircle(this.index-1),g-this.slideWrapWidth,0)}else if(0==this.index){if(g>=0)return;this.setTranslate(this.getCircle(this.index+1),this.slideWrapWidth,0)}}this.setTranslate(this.getCircle(this.index-1),g-this.slideWrapWidth,0),this.setTranslate(this.index,g,0),this.setTranslate(this.getCircle(this.index+1),g+this.slideWrapWidth,0)}},c.prototype.touchEnd=function(a){var b,c,f,g,j=a.changedTouches[0],l=parseInt(j.pageX)-d,m=parseInt(j.pageY)-e;if({x:j.pageX||0,y:j.pageY||0},b=this.getDirection(l,m),c=this.slideWrapWidth/4,f=1*new Date-h,g=Number(f)<250&&Math.abs(i)>20||Math.abs(i)>c,!k){if(g){if(0>i){if(!this.loop&&this.index==this.slideNodeList.length-1)return;if(!this.loop&&!this.continuous&&1==this.index)return;-c>i&&"left"==b?(this.slideTo(this.getCircle(this.index-1),-this.slideWrapWidth,0),this.slideTo(this.getCircle(this.index+2),this.slideWrapWidth,0),this.slideTo(this.index,-this.slideWrapWidth,this.speed),this.slideTo(this.getCircle(this.index+1),0,this.speed),this.index=this.getCircle(this.index+1)):(this.slideTo(this.index,0,this.speed),this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed))}else if(i>0){if(!this.loop&&0==this.index)return;if(!this.loop&&!this.continuous&&0==this.index)return;i>c&&"right"==b?(this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,0),this.slideTo(this.getCircle(this.index-2),-this.slideWrapWidth,0),this.slideTo(this.index,this.slideWrapWidth,this.speed),this.slideTo(this.getCircle(this.index-1),0,this.speed),this.index=this.getCircle(this.index-1)):(this.slideTo(this.index,0,this.speed),this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed))}}else i&&(this.slideTo(this.getCircle(this.index-1),-this.slideWrapWidth,this.speed),this.slideTo(this.index,0,this.speed),this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed));this.setPaginationActive(this.index)}},c.prototype.setTranslate=function(a,b,c){this.slideNodeList[a]&&(this.slideNodeList[a].style.webkitTransitionDuration=this.slideNodeList[a].style.transitionDuration=c+"ms",this.slideNodeList[a].style.webkitTransform=this.slideNodeList[a].style.transform="translate3d("+b+"px,0,0)")},c.prototype.slideTo=function(a,b,c){this.setTranslate(a,b,c)},c.prototype.getCircle=function(a){return(this.slideNodeListLength+a%this.slideNodeListLength)%this.slideNodeListLength},c.prototype.getDirection=function(a,b){return a===b?"":Math.abs(a)>=Math.abs(b)?a>0?"right":"left":b>0?"down":"up"},a.auiSlide=c}(window);var Router=new Router,hCache=!0;""==window.location.hash&&(window.location.href="/#/home"),Router.on("/home",function(){seajs.use("page/home",function(a){hCache?(a.init(!0),hCache=!1):a.init(!1)})}),Router.on("/search",function(){seajs.use("page/search",function(a){a.init()})}),Router.on("/cate/:id",function(a){seajs.use("page/cate",function(b){b.init(a)})}),Router.on("/detail/:id",function(a){seajs.use("page/detail",function(b){b.init(a)})});